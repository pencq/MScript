#!/bin/bash
# 允许电信指定的 IP 段
ip_ranges=(
"27.151.128.0/17"
"27.152.0.0/18"
"27.152.180.0/22"
"27.152.184.0/21"
"27.152.192.0/18"
"27.153.0.0/17"
"59.56.192.0/18"
"59.57.0.0/17"
"59.60.14.0/23"
"59.60.16.0/20"
"59.60.32.0/19"
"59.61.192.0/18"
"61.131.46.0/23"
"61.131.48.0/20"
"61.131.104.0/21"
"61.131.112.0/22"
"61.154.92.0/22"
"61.154.96.0/19"
"61.154.166.0/23"
"61.154.168.0/21"
"110.81.0.0/16"
"110.84.64.0/18"
"110.85.0.0/19"
"110.88.157.0/24"
"110.88.168.0/21"
"110.88.176.0/20"
"110.88.192.0/19"
"110.89.160.0/19"
"117.24.0.0/16"
"117.26.0.0/18"
"117.28.0.0/18"
"117.28.240.0/21"
"120.33.0.0/17"
"120.33.128.0/18"
"120.37.0.0/17"
"120.37.128.0/18"
"120.39.253.0/24"
"120.42.128.0/17"
"120.43.160.0/19"
"120.43.192.0/18"
"121.205.0.0/17"
"121.207.0.0/17"
"124.72.96.0/19"
"124.72.128.0/18"
"124.72.192.0/20"
"125.77.128.0/19"
"125.77.160.0/20"
"125.77.176.0/23"
"125.78.0.0/17"
"125.78.128.0/18"
"140.224.0.0/18"
"140.243.104.0/21"
"140.243.112.0/22"
"140.243.116.0/24"
"140.243.186.0/24"
"202.101.107.0/24"
"202.101.108.0/23"
"202.101.122.0/23"
"202.101.144.0/22"
"202.109.208.0/22"
"202.109.212.0/23"
"211.165.133.0/24"
"218.5.100.0/22"
"218.5.104.0/21"
"218.5.112.0/20"
"218.5.128.0/19"
"218.5.160.0/20"
"218.5.176.0/22"
"218.6.80.0/21"
"218.6.88.0/23"
"218.66.158.0/23"
"218.66.160.0/19"
"218.66.192.0/20"
"218.66.208.0/21"
"218.66.216.0/22"
"218.66.220.0/23"
"218.85.158.0/23"
"218.85.160.0/19"
"218.85.192.0/19"
"218.85.224.0/20"
"218.85.240.0/23"
"220.162.0.0/18"
"220.162.64.0/19"
"220.162.96.0/22"
"222.77.0.0/17"
"222.79.128.0/17"
)

for ip in "${ip_ranges[@]}"; do
    sudo ufw allow from "$ip"
done

sudo ufw reload
